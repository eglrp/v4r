v4r_clear_vars(EIGEN_INCLUDE_DIRS EIGEN_LIBRARIES EIGEN_VERSION)

find_path(EIGEN_INCLUDE_DIRS "Eigen/Core"
          PATHS /usr/local /opt /usr $ENV{EIGEN_ROOT}/include ${EIGEN_DIR}
          PATH_SUFFIXES include/eigen3 Eigen/include/eigen3
          DOC "The path to Eigen3 headers"
          CMAKE_FIND_ROOT_PATH_BOTH)

if(EXISTS ${EIGEN_INCLUDE_DIRS})
  set(EIGEN_LIBRARIES "")
  v4r_parse_header("${EIGEN_INCLUDE_DIRS}/Eigen/src/Core/util/Macros.h" EIGEN_VERSION_LINES EIGEN_WORLD_VERSION EIGEN_MAJOR_VERSION EIGEN_MINOR_VERSION)
  set(EIGEN_VERSION "${EIGEN_WORLD_VERSION}.${EIGEN_MAJOR_VERSION}.${EIGEN_MINOR_VERSION}")
  v4r_clear_vars(EIGEN_VERSION_LINES EIGEN_WORLD_VERSION EIGEN_MAJOR_VERSION EIGEN_MINOR_VERSION)
  set(HAVE_EIGEN TRUE)
else()
  set(HAVE_EIGEN FALSE)
endif()

